<html>
<head>
    <meta charset="utf-8">
    <title>3D轮播</title>
    <script src="js/jQuery.js"></script>
    <script>
        $(function(){
            var bigScene = $("<div>");
            bigScene.css({
                width:"800px",
                height:"400px",
                position: "fixed",
                left: 0,
                top: 0,
                right: 0,
                bottom: 0,
                margin:"auto"
            }).appendTo("body");
            var num =4;
            var arr=[];
            for (var i = 0; i<num; i++){
                if(i==0){
                    var a=300;
                }else if(i==1){
                    var a=200;
                }else if(i==2){
                    var a=100;
                }else if(i==3){
                    var a=0;
                }
                var scene=$("<div>");
                scene.css({
                    width:"100%",
                    height:100/num+"%",
                    perspective:"8000px",
                    prespectiveOrige:"center"+"a"+"px"
                }).appendTo(bigScene);

                var box = $("<div>");
                box.css({
                    width:"100%",
                    height:"100%",
                    position: "relative",
                  transformStyle: "preserve-3d",
                  transition:"transform 2s ease "+i*0.1+"s"
                }).appendTo(scene);
                arr.push(box);
                for (var j = 0; j < 6; j++) {
                    var panel = $("<div>");
                    panel.css({
                        position:"absolute",left:0,top:0
                    })
                    if(j==0){
                        panel.css({
                            width:"100%",
                            height:"400px",
                            transform:"rotateX(90deg)",
                            transformOrigin:"top"
                        }).appendTo(arr[i]);
                    }else if(j==1){
                        panel.css({
                            width: "400px",
                            height: "100%",
                            transform:"rotateY(-90deg)",
                            transformOrigin: "left",
                            background: "url(img/33.jpg) no-repeat 0 "+(-i*100)+"px"
                        }).appendTo(arr[i]);
                    } else if (j == 2) {
                        panel.css({
                            width:"100%",
                            height:"100%",
                            transform: "rotateY(180deg)",
                            background: "url(img/11.jpg) no-repeat 0 "+(-i*100)+"px"
                        }).appendTo(arr[i]);
                    } else if (j == 3) {
                        panel.css({
                            width:"400px",
                            left:"400px",
                            height:"100%",
                            transform: "rotateY(90deg)",
                            transformOrigin: "right",
                            background:"url(img/44.jpg) no-repeat 0 "+(-i*100)+"px"
                        }).appendTo(arr[i]);
                    } else if (j == 4) {
                        panel.css({
                            width:"800px",
                            height:"100%",
//                            bottom:0,
                            transform:"rotateX(-90deg)",
                            transformOrigin:"bottom"
                        }).appendTo(arr[i]);
                    } else if (j == 5) {
                        panel.css({
                            width:"100%",
                            height:"100%",
                            transform:"translateZ(400px)",
                            background:"url(img/22.jpg)no-repeat 0 "+(-i*100)+"px"
                        }).appendTo(arr[i]);
                    }
                }
            }

           var t,a=0;
            Window.onblur=function(){
                setInterval(t);
            }
            Window.onfocus=function(){
                t= setInterval(move,4000)
            }
           t= setInterval(move,4000)
            function move(){
                a+=90;
                for (var i = 0; i < arr.length; i++) {
                    arr[i].css({
                        transform: "rotateY("+a+"deg)"
                    })
                }
            }
        })
    </script>
    <style>
        body img{
            width: 100%;
            height:100%;
            /*background:url(img/bj.jpg);*/
        }
        .next{
            width:60px;
            height:50px;
            background: orangered;
            border-radius:4px;
            position:absolute;
            bottom:0;
            right:0;
            color:#fff;
            font-size: 24px;
            line-height: 50px;
            text-align: center;

        }
    </style>
</head>
<body>
<img src="img/bj.jpg">
<div class="next"><a href="http://localhost:63342/WebstormProjects/header/demo/%E9%92%9F%E8%A1%A8/zb_%E9%92%9F%E8%A1%A8.html">next</a></div>
</body>
</html>